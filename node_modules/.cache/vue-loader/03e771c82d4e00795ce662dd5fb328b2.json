{"remainingRequest":"/Users/zhangxiaoning/Desktop/wisdom-security-syste/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangxiaoning/Desktop/wisdom-security-syste/src/components/wisdom-echarts-frame/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangxiaoning/Desktop/wisdom-security-syste/src/components/wisdom-echarts-frame/index.vue","mtime":1622107239000},{"path":"/Users/zhangxiaoning/Desktop/wisdom-security-syste/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangxiaoning/Desktop/wisdom-security-syste/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhangxiaoning/Desktop/wisdom-security-syste/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangxiaoning/Desktop/wisdom-security-syste/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KCmltcG9ydCBlY2hhcnRzIGZyb20gJ2VjaGFydHMnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnd2lzZG9tLWVjaGFydHMtZnJhbWUnLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgbXlDaGFydDogJycKICAgIH0KICB9LAogIHByb3BzOiB7CiAgICBjaGFydE1ldGhvZDogewogICAgICB0eXBlOiBGdW5jdGlvbgogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLmluaXRDaGFydCgpCiAgICB3aW5kb3cub25yZXNpemUgPSAoKSA9PiB7CiAgICAgIHRoaXMubXlDaGFydC5yZXNpemUoKQogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveSAoKSB7CiAgICAvLyDplIDmr4FlY2hhcnRz5a6e5L6L5a+56LGhCiAgICBpZiAodGhpcy5teUNoYXJ0KSB0aGlzLm15Q2hhcnQuZGlzcG9zZSgpCiAgfSwKICB3YXRjaDoge30sCiAgbWV0aG9kczogewogICAgaW5pdENoYXJ0ICgpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIGNvbnN0IGRvbSA9IHRoaXMuJHJlZnMud2lzZG9tRWNoYXJ0c0ZyYW1lCiAgICAgICAgdGhpcy5teUNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvbSkKICAgICAgICAvLyB0aGlzLm15Q2hhcnQuc2V0T3B0aW9uKHRoaXMuY2hhcnRNZXRob2QoKSkKICAgICAgICB0aGlzLiRlbWl0KCdteUNoYXJ0TWV0aG9kJywgdGhpcy5teUNoYXJ0KQogICAgICB9KQogICAgfSwKICAgIC8vIOmFjee9rm9wdGlvbgogICAgc2V0T3B0aW9uIChvcHRpb24pIHsKICAgICAgdGhpcy5teUNoYXJ0LnNldE9wdGlvbihvcHRpb24pCiAgICB9LAogICAgLy8g6I635Y+Wb3B0aW9uCiAgICBnZXRPcHRpb24gKCkgewogICAgICBpZiAodGhpcy5teUNoYXJ0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMubXlDaGFydC5nZXRPcHRpb24oKQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsCiAgICAgIH0KICAgIH0sCiAgICAvLwogICAgcmVzaXplICgpIHsKICAgICAgaWYgKHRoaXMubXlDaGFydCkgewogICAgICAgIHRoaXMubXlDaGFydC5yZXNpemUoKQogICAgICB9CiAgICB9LAogICAgY2xlYXIgKCkgewogICAgICBpZiAodGhpcy5teUNoYXJ0KSB7CiAgICAgICAgdGhpcy5teUNoYXJ0LmNsZWFyKCkKICAgICAgfQogICAgfSwKICAgIHNob3dMb2FkaW5nICgpIHsKICAgICAgaWYgKHRoaXMubXlDaGFydCkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHRoaXMubXlDaGFydC5zaG93TG9hZGluZyh7CiAgICAgICAgICAgIHRleHQ6ICcnLAogICAgICAgICAgICBjb2xvcjogJyMyOWNkZmYnLAogICAgICAgICAgICB0ZXh0Q29sb3I6ICcjMjljZGZmJywKICAgICAgICAgICAgbWFza0NvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwKScsCiAgICAgICAgICAgIHpsZXZlbDogMAogICAgICAgICAgfSkKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgaGlkZUxvYWRpbmcgKCkgewogICAgICBpZiAodGhpcy5teUNoYXJ0KSB7CiAgICAgICAgdGhpcy5teUNoYXJ0LmhpZGVMb2FkaW5nKCkKICAgICAgfQogICAgfSwKICAgIC8vIOWQr+WKqOWKqOeUu+aXtuS9v+eUqAogICAgdG9vbHRpcEFuaW1hdGUgKGNoYXJ0LCBsZW5ndGgpIHsKICAgICAgLy8g5riF6Zmk5LiK5LiA5qyh5Yqo55S7CiAgICAgIHRoaXMudGltZVRpY2tldCAmJiBjbGVhckludGVydmFsKHRoaXMudGltZVRpY2tldCkKICAgICAgY29uc3QgY291bnQgPSAwCiAgICAgIC8vIOWQr+WKqOWKqOeUuwogICAgICB0aGlzLl9hY3Rpb24oY2hhcnQsIGNvdW50LCBsZW5ndGgpCiAgICAgIGNoYXJ0ICYmIC8vIOenu+mZpOWKqOeUuwogICAgICAgIGNoYXJ0Lm9uKCdtb3VzZW92ZXInLCBwYXJhbXMgPT4gewogICAgICAgICAgdGhpcy5fY2xlYW5BY3Rpb24oY2hhcnQsIHBhcmFtcykKICAgICAgICB9KQogICAgICAvLyDph43lhpnlkK/liqjliqjnlLsKICAgICAgY2hhcnQgJiYKICAgICAgICBjaGFydC5vbignbW91c2VvdXQnLCAoKSA9PiB7CiAgICAgICAgICB0aGlzLl9hY3Rpb24oY2hhcnQsIGNvdW50LCBsZW5ndGgpCiAgICAgICAgfSkKICAgIH0sCiAgICAvLyB0b29sdGlw5Yqo55S7YWN0aW9uCiAgICBfYWN0aW9uIChjaGFydCwgY291bnQsIGxlbmd0aCkgewogICAgICB0aGlzLnRpbWVUaWNrZXQgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVUaWNrZXQpCiAgICAgIHRoaXMudGltZVRpY2tldCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoIWNoYXJ0KSB7CiAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZVRpY2tldCkKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICBjaGFydCAmJgogICAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oewogICAgICAgICAgICB0eXBlOiAnZG93bnBsYXknLAogICAgICAgICAgICBzZXJpZXNJbmRleDogMAogICAgICAgICAgfSkKICAgICAgICBjaGFydCAmJgogICAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oewogICAgICAgICAgICB0eXBlOiAnaGlnaGxpZ2h0JywKICAgICAgICAgICAgc2VyaWVzSW5kZXg6IDAsCiAgICAgICAgICAgIGRhdGFJbmRleDogY291bnQgJSBsZW5ndGgKICAgICAgICAgIH0pCiAgICAgICAgY2hhcnQgJiYKICAgICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKHsKICAgICAgICAgICAgdHlwZTogJ3Nob3dUaXAnLAogICAgICAgICAgICBzZXJpZXNJbmRleDogMCwKICAgICAgICAgICAgZGF0YUluZGV4OiBjb3VudCAlIGxlbmd0aAogICAgICAgICAgfSkKICAgICAgICBjb3VudCsrCiAgICAgIH0sIDEwMDAgKiAzKQogICAgfSwKICAgIF9jbGVhbkFjdGlvbiAoY2hhcnQsIHBhcmFtcykgewogICAgICB0aGlzLnRpbWVUaWNrZXQgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVUaWNrZXQpCiAgICAgIGlmICghY2hhcnQpIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZVRpY2tldCkKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBjaGFydCAmJgogICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKHsKICAgICAgICAgIHR5cGU6ICdkb3ducGxheScsCiAgICAgICAgICBzZXJpZXNJbmRleDogMAogICAgICAgIH0pCiAgICAgIGNoYXJ0ICYmCiAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oewogICAgICAgICAgdHlwZTogJ2hpZ2hsaWdodCcsCiAgICAgICAgICBzZXJpZXNJbmRleDogMCwKICAgICAgICAgIGRhdGFJbmRleDogcGFyYW1zLmRhdGFJbmRleAogICAgICAgIH0pCiAgICAgIGNoYXJ0ICYmCiAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oewogICAgICAgICAgdHlwZTogJ3Nob3dUaXAnLAogICAgICAgICAgc2VyaWVzSW5kZXg6IDAsCiAgICAgICAgICBkYXRhSW5kZXg6IHBhcmFtcy5kYXRhSW5kZXgKICAgICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/wisdom-echarts-frame","sourcesContent":["<template>\n  <div class=\"wisdomEchartsFrame\"\n       ref=\"wisdomEchartsFrame\"></div>\n</template>\n\n<script>\nimport echarts from 'echarts'\nexport default {\n  name: 'wisdom-echarts-frame',\n  data () {\n    return {\n      myChart: ''\n    }\n  },\n  props: {\n    chartMethod: {\n      type: Function\n    }\n  },\n  mounted () {\n    this.initChart()\n    window.onresize = () => {\n      this.myChart.resize()\n    }\n  },\n  beforeDestroy () {\n    // 销毁echarts实例对象\n    if (this.myChart) this.myChart.dispose()\n  },\n  watch: {},\n  methods: {\n    initChart () {\n      this.$nextTick(() => {\n        const dom = this.$refs.wisdomEchartsFrame\n        this.myChart = echarts.init(dom)\n        // this.myChart.setOption(this.chartMethod())\n        this.$emit('myChartMethod', this.myChart)\n      })\n    },\n    // 配置option\n    setOption (option) {\n      this.myChart.setOption(option)\n    },\n    // 获取option\n    getOption () {\n      if (this.myChart) {\n        return this.myChart.getOption()\n      } else {\n        return null\n      }\n    },\n    //\n    resize () {\n      if (this.myChart) {\n        this.myChart.resize()\n      }\n    },\n    clear () {\n      if (this.myChart) {\n        this.myChart.clear()\n      }\n    },\n    showLoading () {\n      if (this.myChart) {\n        this.$nextTick(() => {\n          this.myChart.showLoading({\n            text: '',\n            color: '#29cdff',\n            textColor: '#29cdff',\n            maskColor: 'rgba(255, 255, 255, 0)',\n            zlevel: 0\n          })\n        })\n      }\n    },\n    hideLoading () {\n      if (this.myChart) {\n        this.myChart.hideLoading()\n      }\n    },\n    // 启动动画时使用\n    tooltipAnimate (chart, length) {\n      // 清除上一次动画\n      this.timeTicket && clearInterval(this.timeTicket)\n      const count = 0\n      // 启动动画\n      this._action(chart, count, length)\n      chart && // 移除动画\n        chart.on('mouseover', params => {\n          this._cleanAction(chart, params)\n        })\n      // 重写启动动画\n      chart &&\n        chart.on('mouseout', () => {\n          this._action(chart, count, length)\n        })\n    },\n    // tooltip动画action\n    _action (chart, count, length) {\n      this.timeTicket && clearInterval(this.timeTicket)\n      this.timeTicket = setInterval(() => {\n        if (!chart) {\n          clearInterval(this.timeTicket)\n          return\n        }\n        chart &&\n          chart.dispatchAction({\n            type: 'downplay',\n            seriesIndex: 0\n          })\n        chart &&\n          chart.dispatchAction({\n            type: 'highlight',\n            seriesIndex: 0,\n            dataIndex: count % length\n          })\n        chart &&\n          chart.dispatchAction({\n            type: 'showTip',\n            seriesIndex: 0,\n            dataIndex: count % length\n          })\n        count++\n      }, 1000 * 3)\n    },\n    _cleanAction (chart, params) {\n      this.timeTicket && clearInterval(this.timeTicket)\n      if (!chart) {\n        clearInterval(this.timeTicket)\n        return\n      }\n      chart &&\n        chart.dispatchAction({\n          type: 'downplay',\n          seriesIndex: 0\n        })\n      chart &&\n        chart.dispatchAction({\n          type: 'highlight',\n          seriesIndex: 0,\n          dataIndex: params.dataIndex\n        })\n      chart &&\n        chart.dispatchAction({\n          type: 'showTip',\n          seriesIndex: 0,\n          dataIndex: params.dataIndex\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.wisdomEchartsFrame {\n  width: 100%;\n  height: 100%;\n}\n</style>\n"]}]}